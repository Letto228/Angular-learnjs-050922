<form [formGroup]="filterForm">
    <!-- <div [formGroup]="filterForm"> -->
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Search</mat-label>
        <input formControlName="name" matInput>
    </mat-form-field>

    <div formArrayName="brands" class="checkbox-container">
        <mat-checkbox
            *ngFor="let brand of brands; let index = index"
            [formControlName]="index"
        >
            {{brand}}
        </mat-checkbox>
    </div>

    <div formGroupName="priceRange" class="price-range">
        <div>
            Min
            <app-counter-input formControlName="min"></app-counter-input>
        </div>
        <div>
            Max
            <app-counter-input formControlName="max"></app-counter-input>
        </div>
    </div>
</form>
<!-- <form #form="ngForm" (ngSubmit)="onSubmit(form.value)"> -->
<!-- <form #form="ngForm">
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Search</mat-label>
        <input ngModel name="name" matInput>
    </mat-form-field>

    <div ngModelGroup="brands" class="checkbox-container">
        <mat-checkbox
            *ngFor="let brand of brands; let index = index"
            ngModel
            [name]="index.toString()"
        >
            {{brand}}
        </mat-checkbox>
    </div>

    <div ngModelGroup="priceRange" class="price-range">
        <div>
            Min
            <app-counter-input [ngModel]="filterInitialValue.priceRange.min" name="min"></app-counter-input>
            <app-counter-input [formControl]="filterForm.get('priceRange')?.get('min')"></app-counter-input>
        </div>
        <div>
            Max
            <app-counter-input [ngModel]="filterInitialValue.priceRange.max" name="max"></app-counter-input>
        </div>
    </div>

    <input type="submit">
    <button (click)="onSubmit(form.value)">
        Apply
    </button>
</form> -->
